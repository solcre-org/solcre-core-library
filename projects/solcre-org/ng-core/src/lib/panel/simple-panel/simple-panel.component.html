<div class="edit-available edit-view">

	<!-- PANEL CONTENT -->
	<div class="panel-content hideOnInternalModal">

		<!-- SHOW WHEN LOADING-->
		<div *ngIf="loader.global" class="wrapper section">
			<ng-solcre-loader></ng-solcre-loader>
		</div>

		<!-- SHOW WHEN NOT LOADING-->
		<ng-container *ngIf="!loader.global" >
			<!-- PANEL TOPBAR -->
			<ng-solcre-topbar
				[subtitle]="options.title"
				[breadcrumbs]="breadcrumbs"></ng-solcre-topbar>

			<div class="wrapper">
				<div class="section">
					<ng-container *ngIf="tableModel">
						
						<!-- SUBTITLE -->
						<p 
							*ngIf="tableModel.body.length" 
							class="subtitle display-inline-block margin-r-4">
							{{ options.title | translate}}
						</p>

						<!-- ADD ITEM -->
						<a 
							*ngIf="tableModel.body.length" 
							class="bold-link" 
							(click)="onAddRow()">
							{{ "share.simplePanel.add"  | translate}}
						</a>

						<!-- TABLE -->
						<ng-solcre-table 
							*ngIf="tableModel.body.length" 
							[tableModel]="tableModel" 
							[options]="tableOptions" 
							[customTdTpl]="customTableTemplate" 
							(onDelete)="onDeleteRow($event)"
							(onUpdate)="onUpdateRow($event)" 
							(onSort)="onSort($event)">
						</ng-solcre-table>

						<!-- PLACEHOLDER -->
						<ng-solcre-placeholder 
							*ngIf="!tableModel.body.length"
							[text]="'placeholder.empty' | translate" 
							[large]="true" 
							(onAdd)="onAddRow()">
						</ng-solcre-placeholder>
					</ng-container>
				</div>
			</div>

			<!-- FOOTER -->
			<div class="footer fixed-bottom">
				<div class="fixed-holder holder">

					<div class="content desktop">
						<div class="wrapper align-m">
							<div class="align">
								<ng-solcre-pager
									*ngIf="apiHalPagerModel.totalItems" 
									[(loading)]="loader.pager" 
									[pager]="apiHalPagerModel" 
									(onChange)="onChangePage($event)">
								</ng-solcre-pager>
							</div>
						</div>
					</div> <!-- content desktop -->

					<div class="content mobile">
						<div class="align-m">
							<div class="align">
								<ng-solcre-pager 
									*ngIf="apiHalPagerModel.totalItems" 
									[pager]="apiHalPagerModel"
									(onChange)="onChangePage($event)">
								</ng-solcre-pager>
							</div>
						</div>
					</div> <!-- Content mobile -->
				</div>
			</div>
		</ng-container>
	</div> <!-- Panel-content -->

	<!-- PRIMARY MODAL -->
	<ng-solcre-modal 
		[(state)]="showForm" 
		internal="true">

		<div class="holder" *ngIf="showForm">

			<div class="modal-head align-m">
				<div class="align">
					<button (click)="onHideForm()" type="button" class="link cancel">
						{{ "share.simplePanel.cancel"  | translate }}
					</button>

					<p class="text">
						<span *ngIf="!updateMode">{{ "share.simplePanel.addNew" | translate }}</span>
						<span *ngIf="updateMode">{{ "share.simplePanel.modify" | translate }}</span>
					</p>

					<button 
						*ngIf="!updateMode" 
						class="link confirm" 
						[class.loading]="loader.primaryModal" 
						type="button"
						(click)="onSave()">
						{{ "share.simplePanel.add" | translate }}</button>
					<button 
						*ngIf="updateMode" 
						class="link confirm" 
						[class.loading]="loader.primaryModal" 
						type="button"
						(click)="onSave()">
						{{ "share.simplePanel.save" | translate }}</button>
				</div> <!-- align -->

			</div> <!-- modal-head -->

			<div class="scrollable wrapper section">
				<form *ngIf="showForm" [formGroup]="primaryForm" (ngSubmit)="onSave()">
					<ng-content select=".primary-form"></ng-content>
				</form>
			</div>
		</div>
		<div class="overlay" (click)="onHideForm()"></div>

	</ng-solcre-modal>

	<!-- CONFIRM DIALOG -->
	<ng-solcre-dialog [loading]="loader.dialog"></ng-solcre-dialog>
</div>